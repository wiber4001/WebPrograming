<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <title>JS DOM Control</title>
    </head>
    <body>
        <!-- 요소의 속성을 변경하는 작업 -->
        <!-- 1. img요소의 src속성 변경 -->
        <img src="./images/a_frog.png" alt="frog" width="120" id="aa">
        <button onclick="changeImage()">change images</button>
        <script>
            function changeImage(){
                document.getElementById('aa').src="./images/a_lion.png";
            }
        </script>
        <hr>
        <!-- 요소의 스타일 변경: DOM tree구조를 이용한 요소 접근법 사용 -->
        <p id="p1" class="clickBtn2()">this is paragraph</p>
        <button onclick="clickBtn(this)">스타일 변경</button>
        <script>
            function clickBtn(e){
                //클릭된 버튼의 앞 형제요소 찾기
                var p=e.previousElementSibling;
                p.style.color="yellowgreen";
                p.style.fontWeight="bold";
                p.style.fontStyle="italic";
            }
        </script>
        <!-- class 속성을 이용하여 다중스타일 한방에 적용 -->
        <style>
            .kk{
                color:tomato;
                font-weight: bold;
                font-style: italic;

            }
        </style>
        <button onclick="clickBtn2()"> 클래스속성으로 다중스타일 한방에 바꾸기 </button>
        <script>
            function clickBtn2(){
                document.getElementById('p1').style="";//기존 inline style을 제거
                document.getElementById('p1').className="kk";//inline style보다 우선순위밀림
            }
        </script>
        <hr>
        <!-- DOM노드의 동적인 추가와 삭제 -->
        <button onclick="addText()">텍스트 추가</button>
        <button onclick="addElement()">요소 추가</button>
        <button onclick="removeNode()">자식노드 제거</button>
        <p id="pp"></p>
        <script>
            function addText(){
                // var node=document.createTextNode('this is test');
                // var node=document.createTextNode("<a href=''>this is test</a>");

                // var pp=document.getElementById('pp');
                // pp.appendChild(node);

                //위 작업(텍스트노드추가)을 간략히 하는 속성
                document.getElementById('pp').textContent+="<a href=''>this is test</a>";//append대신 +=

            }

            function addElement(){
                // var node=document.createElement('a');
                // //속성 노드 추가
                // var attr=document.createAttribute('href');
                // attr.value="https://www.google.co.kr";
                // var attr2=document.createAttribute('target');
                // attr2.value="_blank";
                // node.setAttributeNode(attr2);
                // //텍스트노드 생성 및 추가
                // var text=document.createTextNode('Google');
                // node.appendChild(text);
                // document.getElementById('pp').appendChild(node);

                //한방에 축약형으로
                document.getElementById('pp').innerHTML+="<a href='https://www.google.co.kr'>Google</a>";
            }

            function removeNode(){
                var pp=document.getElementById('pp');
                pp.removeChild(pp.firstChild);
            }
        </script>
        <hr>
        <!-- JS에서 요소를 찾을때 CSS선택자 문법을 이용 -->
        <h3 id="ee">Hello world</h3>
        <button onclick="aaa()">button</button>
        <script>
            function aaa(){
                var e=document.querySelector('#ee'); // CSS문법의 id선택자
                e.innerHTML="Nice to meet you";
            }
        </script>
        <h4>aaa</h4>
        <h4>bbb</h4>
        <h4>ccc</h4>
        <button onclick="bbb()">button</button>
        <script>
            function bbb(){
                //CSS선택자 중에서 여러요소가 찾아지는 선택자들.
                var es=document.querySelectorAll('h4'); //타입 선택자로 여로요소 참조 -배열 리턴
                es[0].innerHTML="Good (from aaa)";
            }
            var es=document.querySelectorAll('h4');
            es[1].onclick=function(){
                alert('bbb');
            }
        </script>

    </body>
</html>